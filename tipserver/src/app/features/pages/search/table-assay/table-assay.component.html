<div class="pageContent">
  <div id="searchBar">
    <mat-form-field appearance="fill" id="inputQuery">
      <mat-label>Enter a query</mat-label>
      <input matInput [(ngModel)]="filter" type="text"
             placeholder="Ex. Homo sapiens"
             (keyup)="onFilter(filter)">
    </mat-form-field>
  </div>

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <!-- <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() &&
                          !isAllSelected()"
                        [aria-label]="checkboxLabel()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null"
                        [checked]="selection.isSelected(row)"
                        [aria-label]="checkboxLabel(row)">
          </mat-checkbox>
        </td>
      </ng-container> -->

      <!-- <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let row">{{row.id}}</td>
      </ng-container> -->

      <ng-container matColumnDef="chemical">
        <th mat-header-cell *matHeaderCellDef>Chemical</th>
        <td mat-cell *matCellDef="let row">
          cid:{{row.chemical.cid}},cas:{{row.chemical.cas}}
        </td>
      </ng-container>

      <ng-container matColumnDef="ahrType">
        <th mat-header-cell *matHeaderCellDef>AhR Type</th>
        <td mat-cell *matCellDef="let row">{{row.ahrData.ahrType}}</td>
      </ng-container>

      <ng-container matColumnDef="protein">
        <th mat-header-cell *matHeaderCellDef>Protein</th>
        <td mat-cell *matCellDef="let row">{{row.enzymeData.protein}}</td>
      </ng-container>

      <ng-container matColumnDef="gene">
        <th mat-header-cell *matHeaderCellDef>Gene</th>
        <td mat-cell *matCellDef="let row">{{row.enzymeData.gene}}</td>
      </ng-container>

      <ng-container matColumnDef="concTested">
        <th mat-header-cell *matHeaderCellDef>Concentration Tested</th>
        <td mat-cell *matCellDef="let row">{{row.enzymeData.concentrationTested}}</td>
      </ng-container>

      <ng-container matColumnDef="concSubstrate">
        <th mat-header-cell *matHeaderCellDef>Concentration Substrate</th>
        <td mat-cell *matCellDef="let row">{{row.enzymeData.concentrationSubstrate}}</td>
      </ng-container>

      <ng-container matColumnDef="inhibition">
        <th mat-header-cell *matHeaderCellDef>Inhibition</th>
        <td mat-cell *matCellDef="let row">{{row.enzymeData.inhibition}}</td>
      </ng-container>

      <ng-container matColumnDef="ec50">
        <th mat-header-cell *matHeaderCellDef>EC50</th>
        <td mat-cell *matCellDef="let row">{{row.enzymeData.ec50}}</td>
      </ng-container>

      <ng-container matColumnDef="species">
        <th mat-header-cell *matHeaderCellDef>Species</th>
        <td mat-cell *matCellDef="let row">
          <!-- <ng-container *ngIf="!row.isEditing"> -->
            {{row.species}}
          <!-- </ng-container> -->
          <!-- <ng-container *ngIf="row.isEditing">
            <input matInput #updateInput [value]="row.species"
                   class="row">
          </ng-container> -->
        </td>
      </ng-container>

      <ng-container matColumnDef="pmids">
        <th mat-header-cell *matHeaderCellDef>PMIDs</th>
        <td mat-cell *matCellDef="let row">{{row.pmids}}</td>
      </ng-container>

      <ng-container matColumnDef="comment">
        <th mat-header-cell *matHeaderCellDef>Comment</th>
        <td mat-cell *matCellDef="let row">{{row.comment}}</td>
      </ng-container>

      <!-- <ng-container matColumnDef='action'>
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let row">
          <ng-container *ngIf="!row.isEditing">
            <button mat-icon-button matTooltip="Click to edit"
                    [disabled]="isEditing" (click)="onEdit(row)">
              <mat-icon aria-label="Edit">edit</mat-icon>
            </button>
          </ng-container>
          <ng-container *ngIf="row.isEditing">
            <button mat-icon-button matTooltip="Click to save"
                    (click)="onSave(row)" class="save">Save</button>
            <button mat-icon-button matTooltip="Click to cancel"
                    (click)="onCancel(row)" class="cancel">Cancel</button>
            <button mat-icon-button matTooltip="Click to save"
                    (click)="onDelete(row)"
                    class="delete">
              <mat-icon aria-label="Delete">delete</mat-icon>
            </button>
          </ng-container>
        </td>
      </ng-container> -->
      <ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row
            *matRowDef="let row; columns: displayedColumns;"></tr>
      </ng-container>
      <!-- <ng-template #showEnzyme>
        <tr mat-header-row *matHeaderRowDef="displayedColumnsEnzyme"></tr>
        <tr mat-row
            *matRowDef="let row; columns: displayedColumnsEnzyme;"></tr>
      </ng-template> -->

    </table>

    <mat-toolbar>
      <mat-toolbar-row>
       <!--  <button mat-raised-button matTooltip="Click to export"
                (click)="onExport()" id="buttonExport">
          <mat-icon title="Export as CSV">save_alt</mat-icon>
          Export .csv
        </button> -->
        <span class="example-spacer"></span>
        <mat-paginator [pageSizeOptions]="[10, 25, 50, 100, 200]"
                       showFirstLastButtons></mat-paginator>
        </mat-toolbar-row>
    </mat-toolbar>
  </div>
</div>
