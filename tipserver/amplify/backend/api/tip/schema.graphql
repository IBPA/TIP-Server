# type Blog @model @auth(rules: [{allow: public}]) {
#   id: ID!
#   name: String!
#   posts: [Post] @connection(keyName: "byBlog", fields: ["id"])
# }

# type Post @model @key(name: "byBlog", fields: ["blogID"]) @auth(rules: [{allow: public}]) {
#   id: ID!
#   title: String!
#   blogID: ID!
#   blog: Blog @connection(fields: ["blogID"])
#   comments: [Comment] @connection(keyName: "byPost", fields: ["id"])
# }

# type Comment @model @key(name: "byPost", fields: ["postID", "content"]) @auth(rules: [{allow: public}]) {
#   id: ID!
#   postID: ID!
#   post: Post @connection(fields: ["postID"])
#   content: String!
# }

enum AhrType {
  DB  # DNA binding
  GE  # Gene expression
  LB  # Ligand binding
  NT  # Nuclear translocation
}

enum AssayType {
  ENZYME
  AHR
}

type EnzymaticAssayData {
  protein: String
  gene: String
  concentrationSubstrate: Float
  concentrationTested: Float
  inhibition: Float
  ec50: String
}

type AhrAssayData {
  ahrType: AhrType!
}

type Assay @model
  @auth(rules: [{ allow: public }])
  @key(name: "byChemical", fields: ["chemicalID"]) {
  id: ID!
  type: AssayType!
  enzymeData: EnzymaticAssayData
  ahrData: AhrAssayData
  species: String
  pmids: [Int]
  comment: String
  chemicalID: ID!
  chemical: Chemical @connection(fields: ["chemicalID"])
}

type Chemical @model
  @auth(rules: [{ allow: public }]) {
  id: ID!
  cid: Int
  cas: String
  iupac: String
  inchikey: String
  other_names: [String]
  smiles: String
  mw: Float
  assays: [Assay] @connection(keyName: "byChemical", fields: ["id"])
}
